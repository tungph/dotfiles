#!/usr/bin/env bash

success() {
    # shellcheck disable=SC2059
    printf "\r\033[2K  [ \033[00;32mOK\033[0m ] $1\n"
}

fail() {
    # shellcheck disable=SC2059
    printf "\r\033[2K  [\033[0;31mFAIL\033[0m] $1\n"
    echo ''
    exit
}

set -e

CMD="$HOME/.dotfiles/bin/installers/$1.sh"
if [ -f "$CMD" ]; then
    . "$CMD" 2>&1 >/dev/null
else
    sudo apt install -qqy "$1" 2>&1 >/dev/null
fi

if [ $? -eq 0 ]; then
    success $1
else
    fail $1
fi
